<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 700">
  <defs>
    <linearGradient id="attentionGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea"/>
      <stop offset="100%" style="stop-color:#764ba2"/>
    </linearGradient>
    <linearGradient id="ffnGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#11998e"/>
      <stop offset="100%" style="stop-color:#38ef7d"/>
    </linearGradient>
    <linearGradient id="normGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f093fb"/>
      <stop offset="100%" style="stop-color:#f5576c"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="3" stdDeviation="3" flood-opacity="0.15"/>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748b"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="600" height="700" fill="#f8fafc"/>

  <!-- Title -->
  <text x="300" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#1e293b">Transformer Block</text>
  <text x="300" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#64748b">The core building block of the model</text>

  <!-- Input -->
  <g transform="translate(175, 80)">
    <rect width="250" height="40" rx="6" fill="#e2e8f0" stroke="#cbd5e1" stroke-width="2"/>
    <text x="125" y="26" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#475569">Input Embeddings</text>
  </g>

  <!-- Arrow down -->
  <path d="M300 120 L300 145" stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Skip connection line (left side) -->
  <path d="M175 100 L140 100 L140 310" stroke="#94a3b8" stroke-width="2" stroke-dasharray="5,3" fill="none"/>

  <!-- RMSNorm 1 -->
  <g transform="translate(175, 150)">
    <rect width="250" height="35" rx="6" fill="url(#normGrad)" filter="url(#shadow)"/>
    <text x="125" y="23" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">RMSNorm</text>
  </g>

  <!-- Arrow down -->
  <path d="M300 185 L300 210" stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Multi-Head Attention -->
  <g transform="translate(150, 215)">
    <rect width="300" height="80" rx="10" fill="url(#attentionGrad)" filter="url(#shadow)"/>
    <text x="150" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Multi-Head Attention</text>
    <text x="150" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="rgba(255,255,255,0.9)">Q, K, V projections + RoPE</text>
    <text x="150" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="rgba(255,255,255,0.7)">25 heads x 64 dim = 1600</text>
  </g>

  <!-- Arrow down -->
  <path d="M300 295 L300 320" stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Add symbol for residual -->
  <circle cx="300" cy="340" r="18" fill="#1e293b"/>
  <text x="300" y="346" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="white">+</text>

  <!-- Skip connection arrow to add -->
  <path d="M140 310 L140 340 L280 340" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Arrow down -->
  <path d="M300 358 L300 385" stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Skip connection line 2 (left side) -->
  <path d="M175 360 L120 360 L120 545" stroke="#94a3b8" stroke-width="2" stroke-dasharray="5,3" fill="none"/>

  <!-- RMSNorm 2 -->
  <g transform="translate(175, 390)">
    <rect width="250" height="35" rx="6" fill="url(#normGrad)" filter="url(#shadow)"/>
    <text x="125" y="23" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">RMSNorm</text>
  </g>

  <!-- Arrow down -->
  <path d="M300 425 L300 450" stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Feed Forward Network -->
  <g transform="translate(150, 455)">
    <rect width="300" height="80" rx="10" fill="url(#ffnGrad)" filter="url(#shadow)"/>
    <text x="150" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Feed Forward Network</text>
    <text x="150" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="rgba(255,255,255,0.9)">SwiGLU Activation</text>
    <text x="150" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="rgba(255,255,255,0.7)">1600 → 6400 → 1600</text>
  </g>

  <!-- Arrow down -->
  <path d="M300 535 L300 560" stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Add symbol for residual 2 -->
  <circle cx="300" cy="580" r="18" fill="#1e293b"/>
  <text x="300" y="586" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="white">+</text>

  <!-- Skip connection arrow to add 2 -->
  <path d="M120 545 L120 580 L280 580" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Arrow down -->
  <path d="M300 598 L300 625" stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Output -->
  <g transform="translate(175, 630)">
    <rect width="250" height="40" rx="6" fill="#1e293b"/>
    <text x="125" y="26" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">Output (to next layer)</text>
  </g>

  <!-- Legend -->
  <g transform="translate(460, 150)">
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#475569">Legend:</text>
    <line x1="0" y1="20" x2="40" y2="20" stroke="#94a3b8" stroke-width="2" stroke-dasharray="5,3"/>
    <text x="50" y="25" font-family="Arial, sans-serif" font-size="11" fill="#64748b">Residual</text>
    <circle cx="20" cy="50" r="10" fill="#1e293b"/>
    <text x="20" y="54" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">+</text>
    <text x="50" y="55" font-family="Arial, sans-serif" font-size="11" fill="#64748b">Add</text>
  </g>

  <!-- x32 indicator -->
  <g transform="translate(480, 380)">
    <rect width="80" height="60" rx="8" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
    <text x="40" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#92400e">x32</text>
    <text x="40" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#92400e">layers</text>
  </g>
</svg>
